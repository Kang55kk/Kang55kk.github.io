(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-passwordUpdate"],{2835:function(s,o,r){"use strict";r("7a82");var e=r("4ea4").default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a,n=e(r("8785"));r("ac1f"),r("00b4");var t={data:function(){return{title:"修改密码",oldPassword:"",newPassword:"",confirmPassword:"",showNewPasswordError:!1,showConfirmPasswordError:!1,newPasswordErrorMessage:"",confirmPasswordErrorMessage:""}},methods:{checkAndSubmitForm:function(){var s=this;this.newPassword===this.confirmPassword?/\s/.test(this.newPassword)?uni.showToast({title:"新密码不能包含空格",icon:"none"}):this.newPassword.length<6?uni.showToast({title:"密码长度必须大于6位",icon:"none"}):(console.log({username:this.userInfo.username,oldPassword:this.oldPassword,newPassword:this.newPassword}),uni.request({url:this.apiRoot(a||(a=(0,n.default)(["changePassword"]))),method:"POST",data:{username:this.userInfo.username,oldPassword:this.oldPassword,newPassword:this.newPassword},success:function(o){200===o.statusCode?(uni.navigateBack({success:function(){setTimeout((function(){uni.showToast({title:"密码修改成功",icon:"success",duration:1500,mask:!0})}),100)}}),s.oldPassword="",s.newPassword="",s.confirmPassword=""):uni.showToast({title:o.data.msg||"密码修改失败",icon:"none"})},fail:function(s){uni.showToast({title:"网络请求失败，请稍后重试",icon:"none"}),console.error(s)}})):uni.showToast({title:"两次输入的密码不一致",icon:"none"})},checkNewPassword:function(){/\s/.test(this.newPassword)?(this.showNewPasswordError=!0,this.newPasswordErrorMessage="新密码不能包含空格"):this.newPassword.length<6?(this.showNewPasswordError=!0,this.newPasswordErrorMessage="密码长度必须大于6位"):(this.showNewPasswordError=!1,this.newPasswordErrorMessage="")},checkConfirmPassword:function(){this.newPassword!==this.confirmPassword?(this.showConfirmPasswordError=!0,this.confirmPasswordErrorMessage="两次输入的密码不一致"):(this.showConfirmPasswordError=!1,this.confirmPasswordErrorMessage="")},submitForm:function(){}},watch:{newPassword:function(s){this.checkNewPassword()},confirmPassword:function(s){this.checkConfirmPassword()}}};o.default=t},"4b31":function(s,o,r){"use strict";r.r(o);var e=r("5558"),a=r("8c2f");for(var n in a)["default"].indexOf(n)<0&&function(s){r.d(o,s,(function(){return a[s]}))}(n);r("a51f");var t=r("f0c5"),i=Object(t["a"])(a["default"],e["b"],e["c"],!1,null,"004ea5e6",null,!1,e["a"],void 0);o["default"]=i.exports},5558:function(s,o,r){"use strict";r.d(o,"b",(function(){return e})),r.d(o,"c",(function(){return a})),r.d(o,"a",(function(){}));var e=function(){var s=this,o=s.$createElement,r=s._self._c||o;return r("v-uni-view",{staticClass:"change-password"},[r("v-uni-form",{on:{submit:function(o){o.preventDefault(),arguments[0]=o=s.$handleEvent(o),s.submitForm.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"form-group"},[r("v-uni-label",{attrs:{for:"old-password"}},[s._v("旧密码")]),r("v-uni-input",{attrs:{id:"old-password",type:"password",required:!0,placeholder:"请输入旧密码"},model:{value:s.oldPassword,callback:function(o){s.oldPassword=o},expression:"oldPassword"}})],1),r("v-uni-view",{staticClass:"form-group"},[r("v-uni-label",{attrs:{for:"new-password"}},[s._v("新密码")]),r("v-uni-input",{attrs:{id:"new-password",type:"password",required:!0,minlength:"6",maxlength:"20",placeholder:"请输入新密码"},model:{value:s.newPassword,callback:function(o){s.newPassword=o},expression:"newPassword"}}),r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:s.showNewPasswordError,expression:"showNewPasswordError"}],staticClass:"error-message"},[s._v(s._s(s.newPasswordErrorMessage))])],1),r("v-uni-view",{staticClass:"form-group"},[r("v-uni-label",{attrs:{for:"confirm-password"}},[s._v("确认密码")]),r("v-uni-input",{attrs:{id:"confirm-password",type:"password",required:!0,minlength:"6",maxlength:"20",placeholder:"请再次输入新密码"},model:{value:s.confirmPassword,callback:function(o){s.confirmPassword=o},expression:"confirmPassword"}}),r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:s.showConfirmPasswordError,expression:"showConfirmPasswordError"}],staticClass:"error-message"},[s._v(s._s(s.confirmPasswordErrorMessage))])],1),r("v-uni-button",{attrs:{type:"primary",round:!0},on:{click:function(o){arguments[0]=o=s.$handleEvent(o),s.checkAndSubmitForm.apply(void 0,arguments)}}},[s._v("确认修改")])],1)],1)},a=[]},8458:function(s,o,r){var e=r("bafe");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[s.i,e,""]]),e.locals&&(s.exports=e.locals);var a=r("4f06").default;a("6bc60194",e,!0,{sourceMap:!1,shadowMode:!1})},8785:function(s,o,r){"use strict";r("7a82"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(s,o){o||(o=s.slice(0));return Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(o)}}))},r("fb6a"),r("dca8"),r("1d1c")},"8c2f":function(s,o,r){"use strict";r.r(o);var e=r("2835"),a=r.n(e);for(var n in e)["default"].indexOf(n)<0&&function(s){r.d(o,s,(function(){return e[s]}))}(n);o["default"]=a.a},a51f:function(s,o,r){"use strict";var e=r("8458"),a=r.n(e);a.a},bafe:function(s,o,r){var e=r("24fb");o=e(!1),o.push([s.i,'.change-password[data-v-004ea5e6]{width:80%;margin:0 auto;padding-top:50px}.change-password .title[data-v-004ea5e6]{font-size:28px;font-weight:700;text-align:center;margin-bottom:30px}.change-password .form-group[data-v-004ea5e6]{display:flex;flex-direction:column;margin-bottom:20px}.change-password .form-group uni-input[data-v-004ea5e6]{border-bottom:1px solid grey;padding:%?10?% 0}.change-password .form-group uni-label[data-v-004ea5e6]{font-size:16px;font-weight:700;margin-bottom:10px}.change-password .form-group uni-input[type="password"][data-v-004ea5e6]{padding:10px;border-radius:5px;border:1px solid #999;outline:none}.change-password .form-group uni-input[type="password"][data-v-004ea5e6]:focus{border-color:#1890ff}.change-password .form-group .error-message[data-v-004ea5e6]{color:#f5222d;font-size:14px;margin-top:5px}.change-password uni-button[data-v-004ea5e6]{width:100%;margin-top:30px}',""]),s.exports=o},dca8:function(s,o,r){var e=r("23e7"),a=r("bb2f"),n=r("d039"),t=r("861d"),i=r("f183").onFreeze,d=Object.freeze,w=n((function(){d(1)}));e({target:"Object",stat:!0,forced:w,sham:!a},{freeze:function(s){return d&&t(s)?d(i(s)):s}})}}]);